<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>Color Thief</title>

  
  
  <script src="src/color-thief.js"></script>
  <script src="examples/js/jquery.js"></script>
  <script src="examples/js/mustache.js"></script>
  <script src="examples/js/demo.js"></script>


<style>
</style>
</head>
<body>

  <script>
$(document).ready(function(){

randomNum =  Math.round(Math.random()*100);

$.getJSON('https://pixabay.com/api/?key=723985-f0607cc184e713148830b2d21&q=colorful&page='+ randomNum +'&per_page=3&image_type=photo',
    function(data){
      $.each(data.hits, function(i,item){
        var randImage = item.webformatURL;
       
      $('#pic').html('<img id="randcolor" src="' + randImage + ')" />');


var img = new Image();
img.onload = function () {
  var colorThief = new ColorThief();
  colorThief.getColor(img);
  var domColor = colorThief.getColor(img);


  document.getElementById('abc').innerHTML = domColor;
  $('#abc').css('background-color','rgb('+domColor+')');

};
img.crossOrigin = 'Anonymous';
img.src = randImage;
;

      });
    });


  });




</script>
<div id="pic">

  </div>



<script>

</script>

<div id="abc"> </div>




<script>
function getRandomColor() {
    var letters = '0123456789ABCDEF';
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
 
  }

  var colorNew = getRandomColor();
  //document.write(colorNew);



$(document).ready(function(){

  $('#xyz').css('background-color',colorNew);
  document.getElementById('xyz').innerHTML += colorNew;

});

</script>


 


<div id="xyz" style="padding:20px;"></div>

  

</body>
</html>
